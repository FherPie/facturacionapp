<mat-card appearance="outlined">
  <div class="container">
    <div class="row">
      <mat-card appearance="outlined">
        <mat-card-title>Lista de productos</mat-card-title>
        <mat-card-subtitle></mat-card-subtitle>

        <mat-card-actions align="start">
          <div class="row">
            <div class="col-md-6">
              <input
                type="text"
                class="form-control"
                placeholder="Buscar Producto"
                [(ngModel)]="nombreProducto"
              />
            </div>

            <div class="col-md-3">
              <button
                class="btn btn-info text-white btn-block btn-sm"
                style="width: 100%"
                (click)="agregarProductos()"
              >
                Nuevo
              </button>
            </div>

            <div class="col-md-3">
              <button
                class="btn btn-secondary text-white btn-block btn-sm"
                style="width: 100%"
              >
                Buscar
              </button>
            </div>
          </div>
        </mat-card-actions>

        <mat-card-actions align="end">
          <div class="form-group">
            <label for="file">Importar desde Excel</label>
            <input
              type="file"
              id="file"
              class="file-input"
              accept=".xlsx"
              (change)="onFileSelected($event)"
            />
          </div>
        </mat-card-actions>
      </mat-card>
    </div>

    <br />

    <mat-card appearance="outlined">
      <div class="row">
        <div class="col-md-8">
          <div class="mat-elevation-z8">
            <table class="table">
              <thead>
                <tr>
                  <td>nombre</td>
                  <td>precio unitario</td>
                </tr>
              </thead>

              <tbody>
                <tr
                  *ngFor="let producto of productsList; let i = index"
                  [class.active]="i == currentIndex"
                  (click)="setProductoActive(producto, i)"
                >
                  <td>{{ producto.nombre }}</td>
                  <td>{{ producto.precioUnitario }}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <div class="col-md-4">
          <div *ngIf="currentProduct">
            <h4>Producto Seleccionado</h4>
            <div>
              <label><strong>Nombre: </strong></label
              >{{ currentProduct.nombre }}
            </div>
            <div>
              <label><strong>Precio Unitario: </strong></label
              >{{ currentProduct.precioUnitario }}
            </div>

            <a
              *ngIf="showEditButton"
              class="m-3 btn btn-sm btn-warning"
              routerLink="/productos/{{ currentProduct.idProducto }}"
            >
              Edit
            </a>
          </div>

          <div *ngIf="!currentProduct">
            <br />
            <p>Por favor seleccionar un producto...</p>
          </div>
        </div>
      </div>
    </mat-card>
  </div>
</mat-card>
